(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6516:function(e,s,t){Promise.resolve().then(t.bind(t,8112))},8112:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(7437),i=t(2265);let l=["U","D","R","L"],r={U:"↑",D:"↓",R:"→",L:"←"};function a(){let e=[];for(let s of l)for(let t of l)for(let n of l)for(let i of l)e.push([s,t,n,i]);return e}function d(e,s){let t=0,n={U:0,D:0,R:0,L:0},i={U:0,D:0,R:0,L:0};for(let l=0;l<4;l++)e[l]===s[l]?t++:(n[e[l]]++,i[s[l]]++);let r=0;for(let e of l)r+=Math.min(n[e],i[e]);return[t,r]}function c(e,s){let t=e[0],n=1/0;for(let i of s){let s={};for(let t of e){let e=d(i,t).join(",");s[e]=(s[e]||0)+1}let l=Math.max(...Object.values(s));l<n&&(n=l,t=i)}return t}function o(e){let{code:s}=e;return(0,n.jsx)("div",{className:"flex gap-2",children:s.map((e,s)=>(0,n.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-md border bg-white text-xl shadow-sm",title:e,children:r[e]||e},s))})}function m(){let[e,s]=(0,i.useState)(1),[t,l]=(0,i.useState)(()=>a()),[r,m]=(0,i.useState)(()=>{let e=a();return c(e,e)}),[u,x]=(0,i.useState)([]),[f,h]=(0,i.useState)("0"),[g,b]=(0,i.useState)("0"),[j,p]=(0,i.useState)("Enter feedback for the current guess."),N=(0,i.useMemo)(()=>{let e=t.length;return e<=1?1:e<=4?2:e<=16?3:4},[t.length]),y=(0,i.useMemo)(()=>0===t.length?null:t[0],[t]);return(0,n.jsxs)("main",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,n.jsxs)("header",{className:"mb-6 flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Mastermind Solver"}),(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Deterministic codebreaker (4 pegs, U/D/R/L)"})]}),(0,n.jsxs)("section",{className:"mb-6 rounded-lg border bg-white p-5 shadow-sm",children:[(0,n.jsx)("div",{className:"mb-4 flex justify-end",children:(0,n.jsx)("button",{type:"button",onClick:function(){s(1);let e=a();l(e),m(c(e,e)),x([]),h("0"),b("0"),p("Enter feedback for the current guess.")},className:"inline-flex items-center rounded-md bg-gray-200 px-3 py-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Reset Game"})}),(0,n.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Guess number"}),(0,n.jsx)("div",{className:"text-xl font-medium",children:e})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining possibilities"}),(0,n.jsx)("div",{className:"text-xl font-medium",children:t.length})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Best-case remaining turns"}),(0,n.jsxs)("div",{className:"text-xl font-medium",children:["≤ ",N]})]})]}),4===e&&t.length>0&&t.length<=4&&(0,n.jsxs)("div",{className:"mb-4 rounded-md border border-yellow-300 bg-yellow-50 p-4",children:[(0,n.jsx)("div",{className:"mb-2 text-sm font-semibold text-yellow-800",children:"Possible codes remaining:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-3 mb-2",children:t.map((e,s)=>(0,n.jsxs)("div",{className:"flex items-center gap-2 rounded-md border bg-white px-3 py-2 shadow-sm",children:[(0,n.jsx)(o,{code:e}),y&&e.join("")===y.join("")&&(0,n.jsx)("span",{className:"ml-2 rounded bg-indigo-100 px-2 py-1 text-xs font-semibold text-indigo-700",children:"Optimal"})]},s))}),(0,n.jsxs)("div",{className:"text-sm text-yellow-700 flex items-center gap-2",children:["Suggestion: Try ",(0,n.jsx)("span",{className:"font-bold",children:(0,n.jsx)(o,{code:y})})," for highest probability."]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"mb-2 text-sm text-gray-600",children:"Current guess"}),(0,n.jsx)(o,{code:r})]}),(0,n.jsxs)("form",{onSubmit:function(n){var i,o,u;null==n||null===(i=n.preventDefault)||void 0===i||i.call(n);let j=Number(f),N=Number(g);if(Number.isNaN(j)||Number.isNaN(N)){p("Invalid input. Please enter numbers for black and white pegs.");return}if(j<0||j>4||N<0||N>4||j+N>4){p("Invalid feedback. Each value must be 0-4 and their sum ≤ 4.");return}if(4===j){let e={guess:r,black:j,white:N};x(s=>[...s,e]),p("Correct! \uD83C\uDF89 The solver found your code.");return}let y=t.filter(e=>{let[s,t]=d(r,e);return s===j&&t===N}),v={guess:r,black:j,white:N};if(x(e=>[...e,v]),l(y),0===y.length){p("No codes match that feedback. Please re-check and try again.");return}if(1===y.length){m(y[0]),p("Only one possibility remains. This is your code!"),s(e=>e+1),h("0"),b("0");return}m((o=a(),u=e+1,y.length?u<=3?c(y,o):y[0]:null)),s(e=>e+1),h("0"),b("0"),p("Filtered to ".concat(y.length," possible codes. Enter feedback for the next guess."))},className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,n.jsxs)("label",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"mb-1 text-sm text-gray-700",children:"Black pegs"}),(0,n.jsx)("input",{type:"number",min:0,max:4,value:f,onChange:e=>h(e.target.value),className:"rounded-md border px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),(0,n.jsxs)("label",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"mb-1 text-sm text-gray-700",children:"White pegs"}),(0,n.jsx)("input",{type:"number",min:0,max:4,value:g,onChange:e=>b(e.target.value),className:"rounded-md border px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),(0,n.jsx)("div",{className:"flex items-end",children:(0,n.jsx)("button",{type:"submit",className:"inline-flex w-full items-center justify-center rounded-md bg-indigo-600 px-4 py-2 font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Submit Feedback"})})]}),(0,n.jsx)("div",{className:"mt-4 rounded-md border border-indigo-200 bg-indigo-50 p-3 text-sm text-indigo-800",children:j})]}),(0,n.jsxs)("section",{className:"rounded-lg border bg-white p-5 shadow-sm",children:[(0,n.jsx)("h2",{className:"mb-3 text-lg font-medium",children:"History"}),0===u.length?(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"No guesses yet. First guess is U D R L."}):(0,n.jsx)("ul",{className:"space-y-3",children:u.map((e,s)=>(0,n.jsxs)("li",{className:"flex items-center justify-between rounded-md border p-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["#",s+1]}),(0,n.jsx)(o,{code:e.guess})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,n.jsxs)("span",{className:"mr-3",children:["Black: ",e.black]}),(0,n.jsxs)("span",{children:["White: ",e.white]})]})]},s))})]}),(0,n.jsx)("footer",{className:"mt-8 text-center text-xs text-gray-500",children:"Tip: Provide consistent feedback. The solver filters to codes that produce the same feedback vs each guess."})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6516)}),_N_E=e.O()}]);